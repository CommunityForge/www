---
title: "Home"
layout: default
---

{% include common/notification_modal.html %}

<section class='section'>
  <h1 class='title'>Become a Member</h1>
  <form id=mbs>
    <input type=hidden name=productId value='prod_CdNNverDybFRU1'>
    <div class="field is-narrow">
        <label class="label">Planning Committee</label>
        <div class="control">
          <div class="select">
            <select name='metadata[planning_committee]'>
              <option>Justice</option>
              <option>Arts</option>
              <option>Education</option>
              <option>Business</option>
              <option>Community Development</option>
              <option>None</option>
            </select>
          </div>
        </div>
        <p class="help">Pick a subject you'd like to help Community Forge plan for</p>
    </div>

    <div class="field is-narrow">
        <label class="label">T-Shirt Size</label>
        <div class="control">
          <div class="select">
            <select name='metadata[tshirt_size]'>
              <option>XS</option>
              <option>S</option>
              <option>M</option>
              <option>L</option>
              <option>XL</option>
              <option value=false>None</option>
            </select>
          </div>
        </div>
    </div>

    <div class="field is-narrow">
        <label class="label">Ideal Use of Funds</label>
        <div class="control">
          <div class="select">
            <select name='metadata[use_of_funds]'>
              <option>Free Events/Programming</option>
              <option>Subsidies for Community Organizations</option>
              <option>Building Beautification</option>
              <option>Operations</option>
            </select>
          </div>
        </div>
        <p class="help">Give us an idea of how you'd like this money to be spent</p>
    </div>

    <label class="label">Donation Amount</label>
    <div class="field has-addons">
        <div class="control has-icons-left">
            <input id='amount' class="input" name='amount' type="text" placeholder="Donation Amount">
            <span class="icon is-small is-left">
                <i class="fas fa-dollar-sign"></i>
            </span>
        </div>
        <div class="control">
          <div class="select">
            <select id='reocurring' name='reocurring'>
              <option value='true'>Monthly</option>
              <option value='false'>One Time</option>
            </select>
          </div>
        </div>
    </div>

    <div class="field">
        <button type=submit id=getMembership class="button is-primary">
            Become a Member!
        </button>
    </div>
  </form>
</section>

<script src="https://checkout.stripe.com/checkout.js"></script>
<script src="{{ '/assets/js/checkout.js' | relative_url }}"></script>

<script>
function validate(form, amount) {
    var reocurring = (form.find('select#reocurring').val() == 'true');
    var yearly_amount = (reocurring * 11 + 1) * amount;
    if (yearly_amount < 50) {
        notify_modal('<p>Donation amount must be at least $50 annually.</p>', 'is-danger');
        return false;
    }
    return true;
}
    
attachCheckout({
    $('#mbs'),
    'Community Forge Membership',
    '{{ site.stripe_public_token }}',
    '{{ site.stripe_webtask }}/stripe-payment/payment',
    {
        shippingAddress: true,
        billingAddress: true,
    },
    validate
})
</script>
